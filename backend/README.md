# üé¨ –û–Ω–ª–∞–π–Ω –∫–∏–Ω–æ—Ç–µ–∞—Ç—Ä ‚Äì FastAPI backend

REST API –¥–ª—è —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–≥–æ –æ–Ω–ª–∞–π–Ω-–∫–∏–Ω–æ—Ç–µ–∞—Ç—Ä–∞: —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏, —Ñ–∏–ª—å–º–∞–º–∏, —Ä–µ—Ü–µ–Ω–∑–∏—è–º–∏, –∏–∑–±—Ä–∞–Ω–Ω—ã–º, –ø—Ä–æ—Å–º–æ—Ç—Ä–µ–Ω–Ω—ã–º, —Å–ø–∏—Å–∫–æ–º "–±—É–¥—É —Å–º–æ—Ç—Ä–µ—Ç—å" –∏ –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–º–∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è–º–∏ (–≤ —Ç–æ–º —á–∏—Å–ª–µ —Å –ø–æ–º–æ—â—å—é LLM).

---

## üõ†Ô∏è –°—Ç–µ–∫ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π

- **FastAPI** ‚Äî —Ñ—Ä–µ–π–º–≤–æ—Ä–∫ Python –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è REST API
- **SQLAlchemy** ‚Äî ORM –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö
- **Pydantic** ‚Äî –≤–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö –∏ —Å—Ö–µ–º—ã
- **SQLite** ‚Äî –°–£–ë–î –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 
- **CORS** ‚Äî –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –∫—Ä–æ—Å—Å-–¥–æ–º–µ–Ω–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
- **APScheduler** ‚Äî –∑–∞–¥–∞—á–∏ –ø–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—é
- **python-dotenv** ‚Äî –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
- **passlib[bcrypt]** ‚Äî –¥–ª—è —Ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏—è –ø–∞—Ä–æ–ª–µ–π
- **langchain-gigachat** ‚Äî –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å LLM –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π

---

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –∏ –ø–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –ø–∞–ø–∫—É –ø—Ä–æ–µ–∫—Ç–∞

```bash
git clone <URL-—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è>
cd <–ø–∞–ø–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞>
```

### 2. –°–æ–∑–¥–∞–π—Ç–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ –∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

#### Linux / macOS:

```bash
python3 -m venv venv
source venv/bin/activate
pip install -r requirements.txt
```

#### Windows (CMD):

```cmd
python -m venv venv
venv\Scripts\activate
pip install -r requirements.txt
```

#### Windows (PowerShell):

```powershell
python -m venv venv
.\venv\Scripts\Activate.ps1
pip install -r requirements.txt
```

### 3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä FastAPI

```bash
uvicorn main:app --reload
```

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–æ –ø–æ –∞–¥—Ä–µ—Å—É: [http://127.0.0.1:8000](http://127.0.0.1:8000)

- Swagger UI: [http://127.0.0.1:8000/docs](http://127.0.0.1:8000/docs)
- ReDoc: [http://127.0.0.1:8000/redoc](http://127.0.0.1:8000/redoc)

---

## üì¶ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```bash
backend/
‚îÇ
‚îú‚îÄ‚îÄ routes/
‚îÇ   ‚îú‚îÄ‚îÄ movies/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ movie.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ other_tables.py
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ rec_movie.py
‚îÇ   ‚îú‚îÄ‚îÄ reviews/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ review.py
‚îÇ   ‚îî‚îÄ‚îÄ users/
‚îÇ       ‚îî‚îÄ‚îÄ user.py
‚îÇ
‚îú‚îÄ‚îÄ schemas/
‚îÇ   ‚îú‚îÄ‚îÄ movie.py
‚îÇ   ‚îú‚îÄ‚îÄ review.py
‚îÇ   ‚îî‚îÄ‚îÄ user.py
‚îÇ
‚îú‚îÄ‚îÄ services/
‚îÇ   ‚îú‚îÄ‚îÄ errors/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ movie.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ review.py
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ user.py
‚îÇ   ‚îî‚îÄ‚îÄ movies/
‚îÇ       ‚îú‚îÄ‚îÄ fav_watch_and_ed.py
‚îÇ       ‚îú‚îÄ‚îÄ find_movie.py
‚îÇ       ‚îú‚îÄ‚îÄ giga.py
‚îÇ       ‚îú‚îÄ‚îÄ kinopoisk_client.py
‚îÇ       ‚îú‚îÄ‚îÄ movie_logic.py
‚îÇ       ‚îú‚îÄ‚îÄ movie_repository.py
‚îÇ       ‚îú‚îÄ‚îÄ premieres.py
‚îÇ       ‚îú‚îÄ‚îÄ rec_movies.py
‚îÇ       ‚îî‚îÄ‚îÄ top_movies_loader.py
‚îÇ
‚îú‚îÄ‚îÄ reviews/
‚îÇ   ‚îú‚îÄ‚îÄ another_review_service.py
‚îÇ   ‚îî‚îÄ‚îÄ reviewCRUD.py
‚îÇ
‚îú‚îÄ‚îÄ scheduled_scripts/ (–≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ)
‚îÇ
‚îú‚îÄ‚îÄ users/
‚îÇ   ‚îú‚îÄ‚îÄ users_service.py
‚îÇ   ‚îî‚îÄ‚îÄ util_password.py
‚îÇ
‚îú‚îÄ‚îÄ database.py
‚îú‚îÄ‚îÄ film.json
‚îú‚îÄ‚îÄ main.py
‚îú‚îÄ‚îÄ models.py
‚îú‚îÄ‚îÄ README.md
‚îú‚îÄ‚îÄ requirements.txt
```

---

## üß≠ –û–ø–∏—Å–∞–Ω–∏–µ –æ—Å–Ω–æ–≤–Ω—ã—Ö –ø–∞–ø–æ–∫ –∏ —Ñ–∞–π–ª–æ–≤

- **routes/** ‚Äî —Ä–æ—É—Ç–µ—Ä—ã FastAPI: –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞–ø—Ä–æ—Å–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, —Ñ–∏–ª—å–º–æ–≤, —Ä–µ—Ü–µ–Ω–∑–∏–π –∏ –¥—Ä.
- **schemas/** ‚Äî Pydantic-—Å—Ö–µ–º—ã –¥–ª—è —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –∏ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –≤—Ö–æ–¥—è—â–∏—Ö/–∏—Å—Ö–æ–¥—è—â–∏—Ö –¥–∞–Ω–Ω—ã—Ö
- **services/** ‚Äî –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –≤–Ω–µ—à–Ω–∏–º–∏ —Å–µ—Ä–≤–∏—Å–∞–º–∏, –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
  - **services/errors/** ‚Äî –∫–∞—Å—Ç–æ–º–Ω—ã–µ –∫–ª–∞—Å—Å—ã –æ—à–∏–±–æ–∫
  - **services/movies/** ‚Äî –ª–æ–≥–∏–∫–∞ –ø–æ —Ä–∞–±–æ—Ç–µ —Å —Ñ–∏–ª—å–º–∞–º–∏, —Ç–æ–ø–∞–º–∏, —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è–º–∏, –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å LLM
  - **services/reviews/** ‚Äî —Å–µ—Ä–≤–∏—Å—ã –∏ –ª–æ–≥–∏–∫–∞ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —Ä–µ—Ü–µ–Ω–∑–∏—è–º–∏
  - **services/users/** ‚Äî —Å–µ—Ä–≤–∏—Å—ã –∏ —É—Ç–∏–ª–∏—Ç—ã –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
  - **services/scheduled_scripts/** ‚Äî —Å–∫—Ä–∏–ø—Ç—ã –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ø–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—é (–≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ)
- **database.py** ‚Äî –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
- **models.py** ‚Äî SQLAlchemy-–º–æ–¥–µ–ª–∏ –¥–ª—è —Ç–∞–±–ª–∏—Ü –ë–î
- **main.py** ‚Äî —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞ FastAPI –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- **requirements.txt** ‚Äî —Å–ø–∏—Å–æ–∫ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –ø—Ä–æ–µ–∫—Ç–∞

---

## üîó –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ API

- **/api/users/** ‚Äî —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è, –ª–æ–≥–∏–Ω, –ª–æ–≥–∞—É—Ç, –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ, —É–¥–∞–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, –ø–æ–ª—É—á–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Å–µ–±–µ –∏ –¥—Ä—É–≥–∏—Ö
- **/api/movies/** ‚Äî –ø—Ä–æ—Å–º–æ—Ç—Ä –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Ñ–∏–ª—å–º–∞—Ö, —Ç–æ–ø —Ñ–∏–ª—å–º–æ–≤, –Ω–æ–≤–∏–Ω–∫–∏, —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π –ø–æ–∏—Å–∫, –ø–æ–¥—Ä–æ–±–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –ø–æ id
- **/api/reviews/** ‚Äî –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ, –ø—Ä–æ—Å–º–æ—Ç—Ä, –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ, —É–¥–∞–ª–µ–Ω–∏–µ –æ—Ç–∑—ã–≤–æ–≤
- **/api/tables/** ‚Äî —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–≤–æ–∏–º–∏ —Å–ø–∏—Å–∫–∞–º–∏: "–ò–∑–±—Ä–∞–Ω–Ω–æ–µ", "–ü—Ä–æ—Å–º–æ—Ç—Ä–µ–Ω–æ", "–ë—É–¥—É —Å–º–æ—Ç—Ä–µ—Ç—å"
- **/api/recommendations/** ‚Äî –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –Ω–∞ –æ—Å–Ω–æ–≤–µ –∂–∞–Ω—Ä–æ–≤ –∏ –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, –ø–æ–¥–¥–µ—Ä–∂–∫–∞ LLM

---

## üí° –ü—Ä–∏–º–µ—Ä—ã –∑–∞–ø—Ä–æ—Å–æ–≤

### –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

```http
POST /api/users
Content-Type: application/json

{
  "email": "user@example.com",
  "username": "newuser",
  "password": "yourpassword"
}
```

### –ü–æ–ª—É—á–µ–Ω–∏–µ —Ç–æ–ø-10 —Ñ–∏–ª—å–º–æ–≤

```http
GET /api/movies/top/?count=10
```

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ñ–∏–ª—å–º–∞ –≤ –∏–∑–±—Ä–∞–Ω–Ω–æ–µ

```http
POST /api/tables/{movie_id}/favorite_movies
```

### –ü–æ–ª—É—á–µ–Ω–∏–µ –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã—Ö —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π

```http
GET /api/recommendations/me
```

---

## ‚ö†Ô∏è –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

- –î–ª—è –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–æ–º (–Ω–∞–ø—Ä–∏–º–µ—Ä, React + Vite) —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∑–∞–ø—É—Å–∫–∞—Ç—å —Ñ—Ä–æ–Ω—Ç –Ω–∞ –ø–æ—Ä—Ç–µ 4000 –∏–ª–∏ 5173.
- –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è SQLite (–º–æ–∂–Ω–æ –∑–∞–º–µ–Ω–∏—Ç—å –Ω–∞ PostgreSQL/MySQL –∏ —Ç.–¥.)
- –í —Ñ–∞–π–ª–µ `.env` —Ö—Ä–∞–Ω–∏—Ç–µ —Å–≤–æ–∏ —Å–µ–∫—Ä–µ—Ç–Ω—ã–µ –∫–ª—é—á–∏ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
- –î–ª—è LLM (gigachat/LLM-—Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π) —Ç—Ä–µ–±—É–µ—Ç—Å—è –æ—Ç–¥–µ–ª—å–Ω—ã–π API-–∫–ª—é—á, –∫–æ—Ç–æ—Ä—ã–π —É–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –≤ `.env`
- –î–ª—è –Ω–µ–æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–≥–æ KinoPoisk API —Ç—Ä–µ–±—É–µ—Ç—Å—è –æ—Ç–¥–µ–ª—å–Ω—ã–π API-–∫–ª—é—á, –∫–æ—Ç–æ—Ä—ã–µ —É–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –≤ `.env`

---

## üì¢ –û–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å

–ï—Å–ª–∏ —É –≤–∞—Å –µ—Å—Ç—å –≤–æ–ø—Ä–æ—Å—ã, –±–∞–≥–∏ –∏–ª–∏ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è ‚Äî —Å–æ–∑–¥–∞–≤–∞–π—Ç–µ issue –∏–ª–∏ –æ—Ç–∫—Ä—ã–≤–∞–π—Ç–µ pull request!

**–†–∞–∑—Ä–∞–±–æ—Ç–∫–∞: —Å—Ç—É–¥–µ–Ω—Ç—ã –ú–ê–ò**
| –°—Ç—É–¥–µ–Ω—Ç                      | –†–æ–ª—å                        | –ó–∞–¥–∞—á–∏ –≤ –ø—Ä–æ–µ–∫—Ç–µ                                  |
|------------------------------|-----------------------------|---------------------------------------------------|
| –í–æ–ª–∫–æ–≤ –ê–ª–µ–∫—Å–µ–π –ê–ª–µ–∫—Å–∞–Ω–¥—Ä–æ–≤–∏—á | Team Lead / Backend developer | –ú–∞—Ä—à—Ä—É—Ç—ã (Routes), –æ—Å—Ç–∞–ª—å–Ω–∞—è backend-–ª–æ–≥–∏–∫–∞        |
| –†–∞—Ö–º–∞—Ç—É–ª–ª–∏–Ω –ê–π–¥–∞—Ä –†–∞–º–∏–ª—å–µ–≤–∏—á | Backend developer           | –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å API –ö–∏–Ω–æ–ø–æ–∏—Å–∫–∞, LLM GigaChat, –æ—Ç–∑—ã–≤—ã |
| –ú–∏—Ç—Ä–æ—Ñ–∞–Ω–æ–≤ –û–ª–µ–≥ –†—É—Å–ª–∞–Ω–æ–≤–∏—á   | Frontend developer          | –ü–æ–ª–Ω—ã–π Frontend —Å—Ç–µ–∫ (—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞)      |



